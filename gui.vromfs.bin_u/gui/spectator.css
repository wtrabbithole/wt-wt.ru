@const spectatorTopOffset: 45@sf/@pf;
@const spectatorTableWidth: 1@nameWidth +1.5@tableIcoSize +1@tablePad +2 + 2@scrollBarSize;
@const spectatorRowHeight: 1.4@baseTrHeight;
@const spectatorToolbarBtnSize: 1.5@sIco;
@const spectatorToolbarPadding: 0.25@sIco;

spectatorFrame {
  background-color: @frameSpectatorBackgroundColor;
  border-color: @frameSpectatorBorderColor;
  border:yes;
  border-offset:@dp;
}

table.spectatorTeamTable {
  width:pw;
  css-hier-invalidate:yes;
  total-input-transparent:yes;
}

table.spectatorTeamTable > tr {
  height:1@spectatorRowHeight;
  background-position:1,5;
  background-repeat:expand;
  css-hier-invalidate:yes;
}
table.spectatorTeamTable > tr[selected=yes] {
  re-type:9rect;
  background-image:#ui/gameuiskin#expandable_item_sub_transp_sym;
  background-position:0, 4;
  background-repeat:expand;
  background-color:@switchButtonOnColor;
}

table.spectatorTeamTable > tr[dead=yes] > td > textareaNoTab {
  color-factor:150;
}
table.spectatorTeamTable[team=blue] > tr > td > textareaNoTab {
  color:@teamBlueLightColor;
}
table.spectatorTeamTable[team=red] > tr > td > textareaNoTab {
  color:@teamRedLightColor;
}
table.spectatorTeamTable[side=left] > tr > td {
  class:spectatorTeamCell;
  side:left;
}

table.spectatorTeamTable[side=right] > tr > td {
  class:spectatorTeamCell;
  side:right;
}

td.spectatorTeamCell {
  padding-left:1@tablePad;
  padding-right:1@tablePad;
  flow:vertical;
  css-hier-invalidate:yes;
}

td.spectatorTeamCell > hr {
  size:pw, 1@dp;
  position:absolute;
  background-image:#ui/gameuiskin#expandable_item_sub_transp;
  background-position:1;
  background-repeat:expand;
  background-color:#30000000;
}
td.spectatorTeamCell > hr.top {
  pos:0, 0;
}
td.spectatorTeamCell > hr.bottom {
  pos:0, ph-h;
}
td.spectatorTeamCell[side=left] > hr {
  rotation:180;
}

td.spectatorTeamCell > battleStateIco {
  size:@cIco, @cIco;
  position:absolute;
  background-svg-size:@cIco, @cIco;
  background-color:@transparent;
  input-transparent:yes;
  css-hier-invalidate:yes;
}
td.spectatorTeamCell[side=left] > battleStateIco {
  pos:0, ph/2-h/2;
}
td.spectatorTeamCell[side=right] > battleStateIco {
  pos:pw-w, ph/2-h/2;
}

td.spectatorTeamCell > battleStateIco.ExtinguisherActive {
  background-image:#ui/gameuiskin#fire_indicator;
  background-color:#11bedd;
}
td.spectatorTeamCell > battleStateIco.IsBurning {
  background-image:#ui/gameuiskin#fire_indicator;
  background-color:#ddb711;
}
td.spectatorTeamCell > battleStateIco.BrokenEngine {
  background-image:#ui/gameuiskin#engine_state_indicator;
  background-color:#dd1111;
}
td.spectatorTeamCell > battleStateIco.BrokenGun {
  background-image:#ui/gameuiskin#gun_state_indicator;
  background-color:#dd1111;
}
td.spectatorTeamCell > battleStateIco.BrokenTrack {
  background-image:#ui/gameuiskin#track_state_indicator;
  background-color:#dd1111;
}
td.spectatorTeamCell > battleStateIco.OutOfAmmo {
  background-image:#ui/gameuiskin#btn_weapons.svg;
  background-color:#dd1111;
}

td.spectatorTeamCell > icon {
  height:@tableIcoSize;
  position:absolute;
  background-svg-size:@cIco, @cIco;
}
td.spectatorTeamCell[side=left] > icon {
  pos:2.75@tableIcoSize - w, 0.5ph-0.5h;
}
td.spectatorTeamCell[side=right] > icon {
  pos:pw - 2.75@tableIcoSize, 0.5ph-0.5h;
}

td.spectatorTeamCell > icon > img.unit {
  size:@tableIcoSize, @tableIcoSize;
}

td.spectatorTeamCell > icon > img.weapon {
  size:0.375@tableIcoSize, @tableIcoSize;
}

td.spectatorTeamCell > icon > img.weapon[reloading=yes] {
  background-color:@inactiveButtonBgColor;
}

td.spectatorTeamCell > textareaNoTab {
  pare-text:yes;
  halign:center;
  text-shade:"smooth:24";
  text-shade-x:0;
  text-shade-y:0;
  text-shade-color:#A0000000;
}
td.spectatorTeamCell[side=left] > textareaNoTab {
  padding-left:2.75@tableIcoSize;
  text-align:left;
}
td.spectatorTeamCell[side=right] > textareaNoTab {
  padding-right:2.75@tableIcoSize;
  text-align:right;
}

td.spectatorTeamCell > textareaNoTab[id=unit] {
  size:pw, 0.5@baseTrHeight;
  smallFont:yes;
}
td.spectatorTeamCell > textareaNoTab[id=name] {
  color:@activeTextColor;
  size:pw, 0.75@baseTrHeight;
  pos:0, 3@sf/@pf;
  position:relative;
}
table.spectatorTeamTable > tr[selected=yes] > td > textareaNoTab[id=name] {
  color:@userlogColoredText;
}

buttons_block {
  input-transparent:yes;
  margin-left:0.5@spectatorToolbarBtnSize;
}
buttons_block > separator {
  width:0.5@spectatorToolbarBtnSize;
}

hoverButton, toggleButton
{
  behaviour:button;
  re-type:9rect;
  snd_click:click;
  css-hier-invalidate:yes;
}

toggleButton {
  size:@mIco, @mIco;
}

hoverButton
{
  height:@spectatorToolbarBtnSize;
  min-width:h;
  class:header;
  color:@gray;
  font:@fontNormal;
}

hoverButton > icon, toggleButton > icon
{
  pos:(pw-w)/2, (ph-h)/2;
  position:absolute;
  size:@sIco, @sIco;
  background-svg-size:@sIco, @sIco;
  background-color:@gray;
  input-transparent:yes;
}

hoverButton:hover
{
  background-color:@switchButtonOnColor;
  color:@buttonFontColorHover;
}
hoverButton:hover > icon
{
  background-color:@buttonFontColorHover;
}

hoverButton[highlighted=yes]
{
  color:@gold;
}
hoverButton[highlighted=yes] > icon
{
  background-color:@gold;
}

hoverButton[highlighted=yes]:hover
{
  color:@userlogColoredText;
}
hoverButton[highlighted=yes]:hover > icon
{
  background-color:@userlogColoredText;
}

hoverButton:disabled
{
  color:#30303030;
}
hoverButton:disabled > icon
{
  background-color:#30303030;
}

hoverButton[isTextBtn=yes]
{
  height:@spectatorToolbarBtnSize;
  color:@gray;
  color-factor:127;
  padding:0.3@sIco, 0;
}
hoverButton[isTextBtn=yes][highlighted=yes]
{
  color:@gray;
  color-factor:255;
}
hoverButton[isTextBtn=yes] > updated
{
  position:absolute;
  size:pw, ph;
  background-color:#00261b09;
  input-transparent:yes;
  display:hide;
}
hoverButton[isTextBtn=yes][highlighted=no][alert=yes] > updated
{
  display:show;
}
hoverButton[isTextBtn=yes]:hover
{
  color:@white;
  color-factor:255;
  background-color:@menuButtonColorHover;
}
hoverButton[isTextBtn=yes][highlighted=no][alert=yes]
{
  color:@gold;
  color-factor:255;
}

toggleButton:hover
{
  background-color:@menuButtonColorHover;
  color:@white;
}
toggleButton:hover > icon
{
  background-color:@white;
}

toggleButton[toggled=yes] {
  tooltip:#mainmenu/btnCollapse;
}
toggleButton[toggled=no] {
  tooltip:#mainmenu/btnExpand;
}

toggleButton > icon {
  background-image:#ui/gameuiskin#spinnerListBox_arrow_up.svg;
}
toggleButton[attachSide=left][toggled=yes] > icon,
toggleButton[attachSide=right][toggled=no] > icon {
  rotation:270;
}
toggleButton[attachSide=right][toggled=yes] > icon,
toggleButton[attachSide=left][toggled=no]   > icon {
  rotation:90;
}

historyLog {
  behaviour:textArea;
  re-type:textarea;
  color:@commonTextColor;
  font:@fontSmall;
  paragraph-indent:0;
  padding:0;
}
